{
	"scopeName": "source.dml",
	"name": "DML",
	"comment": "Gembase DML Language",
	"fileTypes": [
		"dml"
	],
	"patterns": [
		{
			"comment": "Comment",
			"begin": "!",
			"end": "$",
			"name": "comment.line.dml"
		},
		{
			"include": "#source"
		}
	],
	"repository": {
		"source": {
			"patterns": [
				{
					"include": "#titles"
				},
				{
					"include": "#strings"
				},
				{
					"include": "#variables"
				},
				{
					"include": "#forms"
				},
				{
					"include": "#declarations"
				},
				{				
					"include": "#blocks"
				},
				{				
					"include": "#statements"
				}				
			]
		},
		
		"titles": {
			"patterns": [
				{
					"name": "markup.heading.dml",
					"match": "(?i)\\bTITLE\\b"
				}
			]
		},
		"strings": {
			"patterns": [
				{
					"name": "string.dml",
					"begin": "(\"|\\')",
					"beginCaptures": {
						"0": {
							"name": "punctuation.definition.string.begin.dml"
						}
					},
					"end": "(\"|\\')",
					"endCaptures": {
						"0": {
							"name": "punctuation.definition.string.end.dml"
						}
					}
				}
			]
		},
		"variables" : {
			"patterns": [				
				{
					"name": "variable.parameter.dml",
					"match": "\\#([a-zA-Z]|\\_|\\$)*"
				}	
			]		
		},
		"forms": {
			"patterns": [
				{
					"name": "entity.name.class.dml",
					"match": "(?i)\\b(PROCEDURE_FORM|PERFORM|MENU_FORM|FORM|QUERY_FORM|REPORT_FORM|TABLE_FORM|TABLE_EDIT|END_FORM)\\b"
				},
				{
					"comment": "Form Qualifiers",
					"name": "entity.other.attribute-name",
					"match": "(?i)(\/ADD_FORM|\/ALTERNATE_FORM|\/ADD_FORM|\/ALTERNATE_FORM|\/ATTRIBUTES|\/BASE|\/BEGIN_ROW|\/BREAK|\/BREAK0|\/COL|\/COLUMN_HEADINGS|\/COLUMN_HEADING_ROW|\/COLUMN_SPACING|\/COMMIT_RATE|\/DEFAULT_TAG|\/DELETE_FORM|\/END_ROW|\/FIND_FORM|\/FIRST|\/FOOTING|\/FOOTING_FORM|\/GRID|\/GROUPED_BY|\/HEADING|\/HEADING_FORM|\/HEIGHT|\/INPUT_ROW_HEIGHT|\/JOINED_TO|\/LFOOTING|\/LHEADING|\/LINES_AFTER|\/LINES_BEFORE|\/LOCK|\/MODIFY_FORM|\/NOERROR|\/NOEXIT_FORWARD|\/NOGRID|\/NOSTATUS|\/OPTIONS|\/OUTPUT|\/PDF|\/READ_ONLY|\/REDUCED_TO|\/REMAIN|\/REPEAT|\/RFOOTING|\/RHEADING|\/ROW|\/ROW_HEIGHT|\/SECONDARY|\/SELECTION|\/SEQUENCE|\/SEQUENCE_INCREMENT|\/SORTED_BY|\/STATISTIC|\/STATUS|\/STREAM_NAME|\/SYSTEM|\/TABLE|\/TAG_LENGTH|\/TITLE|\/WIDTH|\/WITH)"
				}
			]
		},
		"declarations": {
			"patterns": [
				{
					"name": "keyword.control.dml",
					"match": "(?i)\\b(TEXT|LINE)\\b"
				}
			]
		},
		"blocks": {
			"patterns": [
				{
					"name": "entity.name.function.dml",
					"match": "(?i)\\b(BEGIN_BLOCK|INPUT_BLOCK|ITEM_BLOCK|MENU_BLOCK|OUTPUT_BLCOK|PAUSE_BLOCK|END_BLOCK|SIGNATURE_BLOCK|YESNO_BLOCK)\\b"
				},
				{
					"comment": "Block Qualifiers",
					"name": "entity.other.attribute-name",
					"match": "(?i)(\/ABSOLUTE_POSITION|\/ATTRIBUTES|\/AUDIT|\/BACK|\/BREAK|\/COL|\/DATETIME|\/DISPLAY_LENGTH|\/DISPLAY_ONLY|\/DOMAIN|\/DOUBLE|\/ERASE|\/EXIT|\/FACILITY|\/FAILURE|\/GRID_COL|\/GRID_MODE|\/GRID_TOTAL|\/GRID_HEADING|\/HEADING|\/HEIGHT|\/INPUT_MASK|\/ITEM|\/ITEM_IF|\/LEN|\/LOV|\/LOV_AUTO_SELECT|\/LOV_COL|/LOV_DATA|\/LOV_FIRST|\/LOV_HEIGHT|\/LOV_NOHEADING|\/LOV_NOSEARCH|\/LOV_REDUCED_TO|\/LOV_ROW|\/LOV_SECONDARY|\/LOV_SELECTION|\/LOV_SORTED_BY|\/LOV_WIDTH|/LOV_WITH|\/NEW|\/NOAUDIT|\/NOCLEAR_BUFFER|\/NODOMAIN|\/NOHEADING|\/NOLOV_DATA|\/NOREPEAT|\/NOUNDERLINES|\/OPT|\/OPTIONS|\/OUTPUT_MASK|\/PDF|\/PROMPT|/PROTECT|\/PURPOSE|\/RECALL|\/ROW|\/SAVE|\/SOURCE|\/SOURCE_IF|\/SUCCESS|\/TAG|\/TAG_LENGTH|\/TARGET|\/TITLE|\/TOTAL|\/URL|\/USE_IF|\/USER|\/USER_KEY|\/USERNAME1|\/USERNAME2|\/USING|\/VALIDATION_FORM)"
				}
			]
		},
		"statements": {
			"patterns": [
				{
					"comment": "program flow",
					"name": "constant.language.dml",
					"match": "(?i)\\b(BEGIN_CASE|CASE|BEGIN_DISABLE_TRIGGER|BEGIN_SIGNAL_TO_STATUS|CALL|CALL_WEB_SERVICE|CLEAR_ARRAY|CONTINUE|ELSE|ELSE_IF|END_GTID|END_DISABLE_TRIGGER|END_IF|END_SIGNAL_TO_STATUS|END_WHILE|EXIT|GOTO|IF|END_IF|PERFORM|SWITCH|SWITCH_BASE|ADD TO|ARCHIVE|CHECK_DOMAIN|CLEAR_BUFFER|CLOSE|COMMIT|DELETE|FETCH|FIND IN|FINISH|INVOKE|LOAD|ROLLBACK)\\b"
				},
				{
					"comment": "data access",
					"name": "keyword.control.dml",
					"match": "(?i)\\b(SET CAT_FILTER|START_STREAM|START_TRANSACTION|UNLOAD)\\b"
				},
				{
					"comment": "data integrity checking",
					"name": "keyword.control.dml",
					"match": "(?i)\\b(VERIFY)\\b"
				},
				{
					"comment": "Text file management",
					"name": "keyword.control.dml",
					"match": "(?i)\\b(CLOSE_TABS|OPEN_TAB|CLOSE_TEXT|OPEN_TEXT|READ_LINE|REWIND_TEXT|WRITE|WRITE_LINE)\\b"
				},
				{
					"comment": "screen i/o",
					"name": "keyword.control.dml",
					"match": "(?i)\\b(DISPLAY|ERASE|ERROR|ERROR_TEXT|LINE|MENU|MESSAGE|PRINT|TABLE_SEARCH|SSET ACCESS|SET DATE_FORMAT|SET ENTRY_MENU|SET HELP ON|SET HELP OFF|SET ICON_NAME|SET INPUT BACKGROUND|SET INPUT FOREGROUND)\\b"
				},
				{
					"comment": "System Settings",
					"name": "keyword.control.dml",
					"match": "(?i)\\b(SET INTERRUPT|SET KEY|SET KEYBOARD|SET LOCK|SET LOCK_TIMEOUT|SET PERFORM|SET PRECISION|SET PROMPT|SET SCREEN|SET STATUS_FREQUENCY|SET TIMEOUT|SET TITLE_FORM|SET TITLE_BAR|SET VERIFY|SET NOVERIFY|SHOW DATABASE|SHOW DATE_FORMAT|SHOW ENTRY_MENU|SHOW HELP|SHOW INPUT|SHOW INTERRUPT|SHOW KEYBOARD|SHOW LOCK|SHOW LOCK TIMEOUT|SHOW PERFORM|SHOW PRECISION|SHOW PROMPT|SHOW SHADOWS|SHOW STATUS FREQUENCY|SHOW SYSTEM|SHOW TIMEOUT|SHOW TITLE_BAR|SHOW TITLE_FORM|SHOW VERIFY|SIGNATURE|START_GRID|XML_RECEIVE_TABLES|XML_SEND_TABLE)\\b"
				},
				{
					"comment": "Inter-Process Communication",
					"name": "keyword.control.dml",
					"match": "(?i)\\b(MAIL|RECEIVE|RELEASE|SEND)\\b"
				},
				{
					"comment": "Client/Server Env",
					"name": "keyword.control.dml",
					"match": "(?i)\\b(CONNECT|DISCONNECT|END_EXECUTE|EXECUTE|RECEIVE_DATA|RECEIVE_TABLE|SEND_DATA|SEND_MESSAGE)\\b"
				},
				{
					"comment": "Misc",
					"name": "keyword.control.dml",
					"match": "(?i)\\b(EDIT|EXTERNAL|License|PWD|RANDOMIZE|REPOSITION BY|REPOSITION TO|SEARCH|SET DEFAULT|SHOW CAT FILTER|SET WD|SHOW DEFAULT|SHOW HOST ID|SHOW PLATFORM|SHOW TARGETID|SHOW WD|TRANSFER)\\b"
				},
				{
					"comment": "OS Command",
					"name": "keyword.control.dml",
					"match": "\\$([a-zA-Z]|\\_|\\$)*"
				}

			
			]
		}		
	}
}



